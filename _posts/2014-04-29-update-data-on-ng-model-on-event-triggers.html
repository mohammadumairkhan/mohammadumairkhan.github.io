---
layout: post
title: Update data on ng-model on event triggers
date: 2014-04-29 05:36:06.000000000 +05:00
tags:
- AngularJS
status: publish
type: post
published: true
meta:
  _edit_last: '65775760'
  geo_public: '0'
  _publicize_pending: '1'
author:
  login: mohammadumairkh
  email: mohammad.umair.k@gmail.com
  display_name: mohammadumairkh
  first_name: ''
  last_name: ''
---
<p><span style="color:#464646;">Angular's ng-model is famous for its 2 way binding. If there is an input box with an ng-model directive attached to it, angular invokes its digest cycle on each charachter we type, performing validations on the data (if any) and then updating the value on the scope if data is valid. Everything is so fast that it feels that data is validated real time. Sometimes we don't need angular to update our model as we are typing. Sometimes, we need the user to fill out the complete form and once he performs a click on form submit, or presses enter or loses focus on the field, we want the user to be updated for invalid field entries. To accomplish such tasks, I came up with an up-gradation of the </span><strong style="color:#464646;">fpSubmit</strong><span style="color:#464646;"> and </span><strong style="color:#464646;">fpModelUpdateOn</strong><span style="color:#464646;"> directive.</span></p>
<p><span style="color:#464646;">** fpSubmit has been renamed ukSubmit</span><br style="color:#464646;" /><span style="color:#464646;">** fpModelUpdateOn has been renamed ukModelUpdateOn</span><br style="color:#464646;" /><br style="color:#464646;" /><strong style="color:#464646;">1) Updating model on 'blur':</strong><br style="color:#464646;" /><span style="color:#464646;">Placing the ukModelUpdateOn with an attribute blur will only update the scope variable "updateOnBlur" once the input field loses focus.</span></p>
<p><a href="/assets/b3one.png"><img class="size-full wp-image-28" src="/assets/b3one.png" alt="ukUpdateModelOn usage with blur" width="676" height="71" /></a></p>
<p><strong style="color:#464646;">2) Updating model on 'enter':</strong><br style="color:#464646;" /><span style="color:#464646;">Placing the ukModelUpdateOn with an attribute enter will update the scope variable "updateOnEnter" once enter is pressed on the keyboard.</span></p>
<p><a href="/assets/b3two.png"><img class="size-full wp-image-31" src="/assets/b3two.png" alt="ukUpdateModelOn usage with enter" width="624" height="69" /></a></p>
<p><strong style="color:#464646;">3) Updating model on 'submit':</strong><br style="color:#464646;" /><span style="color:#464646;">Using ukModelUpdateOn with submit requires a named event to be passed in as value of the submit attribute. An element is also required to carry the ukSubmit directive with the same named event to trigger that event on click. Once the element detects a click, it will fire the named event, which will cause the models to update on that event.</span></p>
<p><a href="/assets/b3three.png"><img class="size-full wp-image-30" src="/assets/b3three.png" alt="ukUpdateModelOn usage with submit" width="676" height="67" /></a></p>
<p><strong style="color:#464646;">4) Updating model on 'submit' with a click function callback and arguments:</strong><br style="color:#464646;" /><span style="color:#464646;">This is the most complex of all. In addition to the above feature. Installing an onSubmit attribute with a value of a function on the scope and an array of arguments needed for that function can trigger this function after updating the models.</span><br style="color:#464646;" /><span style="color:#464646;">This is most useful if one wants to first update the models on pressing the submit button and then calling the submit function on the scope.</span></p>
<p><a href="/assets/b3four.png"><img class="size-full wp-image-27" src="/assets/b3four.png" alt="ukSubmit with callback and arguments" width="676" height="54" /></a></p>
<p><span style="color:#464646;">By making use of the above directives, we can easily control when we want the validations to occur (i.e. on blur, on enter or on some custom event). All the validations take place once the value is set on the scope variable, and by deferring the updation of the scope variable from the view, we can easily control when do we want to validate our data.</span><br style="color:#464646;" /><br style="color:#464646;" /><em style="color:#464646;"><strong>All this is easier said and easier done as I have everything up and ready for those in need. </strong></em><br style="color:#464646;" /><strong style="color:#464646;">ukModelUpdateOn</strong><span style="color:#464646;">:</span></p>
<p><a href="/assets/b3five.png"><img class="size-full wp-image-26" src="/assets/b3five.png" alt="ukModelUpdateOn directive" width="676" height="756" /></a></p>
<p><strong style="color:#464646;">ukSubmit:</strong></p>
<p><a href="/assets/b3six.png"><img class="size-full wp-image-29" src="/assets/b3six.png" alt="ukSubmit directive" width="676" height="240" /></a></p>
<p><strong style="color:#464646;"><em>All of the above (source + working demo) can also be found on my Github</em></strong><br style="color:#464646;" /><a href="https://github.com/mohammadumairkhan/modelUpdateOnEvents"><b><i><span style="text-decoration:underline;">ModelUpdateOnEvents Repository</span></i></b></a><br style="color:#464646;" /><br style="color:#464646;" /><strong style="color:#464646;">Thanks and happy coding :)</strong></p>
<p>&nbsp;</p>
