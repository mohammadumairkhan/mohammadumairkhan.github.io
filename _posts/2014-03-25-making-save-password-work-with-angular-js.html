---
layout: post
title: Making save password work with Angular JS
date: 2014-03-25 04:59:17.000000000 +05:00
categories:
- Angular JS
- Web
tags:
- AngularJS
- Directive
- ng-model
status: publish
type: post
published: true
meta:
  _edit_last: '65775760'
  geo_public: '0'
  _publicize_pending: '1'
author:
  login: mohammadumairkh
  email: mohammad.umair.k@gmail.com
  display_name: mohammadumairkh
  first_name: ''
  last_name: ''
---
<p>With all the power Angular JS possesses, it has succumbed to a rather simple feature, that is the save password on the browsers. If you hit the 'Save Password' on the browser after filling in your credentials, the browser stores the information and restores it each time you visit the log in page so you can just press log in or hit enter to sign into the application. Trying that with Angular JS fails unless you add and remove a character to any input tag and try again, here is why ...<!--more--></p>
<p><br style="color:#464646;" /><span style="color:#464646;">Angular JS uses the 'ng-model' directive to bond the view to a scope variable. Every time we write on the input tag, Angular invokes its digest loop and updates all the views and models (see documentation of NgModelController) by invoking different functions etc. Whenever the browser populates the saved credentials the first time, it does not invoke the digest cycle of Angular and hence none of the values that are in the view are updated on the model. Since nothing is on the scope, the login attempt would eventually fail. As mentioned above, adding and/or removing a character invokes the digest cycle of Angular doing all the dirty checking on scope variables, eventually updates the models and login request would proceed as expected.</span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">Here are a couple of simple directives which would make auto-save work like a charm</span></p>
<p>[caption id="attachment_14" align="alignnone" width="676"]<a href="http://mukhanblogs.files.wordpress.com/2014/05/b1one.png"><img class="wp-image-14 size-large" src="assets/b1one.png?w=676" alt="Angular JS update model on submit directive usage in view" width="676" height="272" /></a> Angular JS update model on submit directive usage in view[/caption]</p>
<p><span style="color:#464646;">Above HTML shows a simple login form. It highlights 2 directives:</span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">1) </span><strong style="color:#464646;">"fp-model-update-on"</strong><span style="color:#464646;"> with an attribute </span><strong style="color:#464646;">"submit"</strong><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">This directive would listen for a submit event and update the model on which it is placed</span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">2) </span><strong style="color:#464646;">"fp-submit"</strong><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">This directive would fire a submit event on click of whatever element it is placed on</span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">Pressing enter or clicking submit button would trigger a </span><strong style="color:#464646;">"FormSubmitted"</strong><span style="color:#464646;"> event, each model which has </span><strong style="color:#464646;">"fp-model-update-on"</strong><span style="color:#464646;"> directive with submit as an attribute would update itself before the login request could be made. Once the models are updated, the login request can proceed as expected.</span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">Here is how the directives looks like:</span></p>
<p>[caption id="attachment_15" align="alignnone" width="567"]<a href="http://mukhanblogs.files.wordpress.com/2014/05/b1two.png"><img class="size-full wp-image-15" src="assets/b1two.png" alt="Source code for the submit directive" width="567" height="312" /></a> Source code for the submit directive[/caption]</p>
<p><span style="color:#464646;">Simple isn't it? Plus you can add any number of attributes and can trigger update on models on that event. Hint: blur enter etc</span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">Questions and suggestions are welcome </span><br style="color:#464646;" /><br style="color:#464646;" /><span style="color:#464646;">Thanks</span></p>
